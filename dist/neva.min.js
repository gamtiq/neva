!function(t,n){"function"==typeof define&&define.amd?define(["exports"],n):"undefined"!=typeof exports?n(exports):(n(n={}),t.neva=n)}(this,function(t){"use strict";t.__esModule=!0,t.default=e;var u="__nevaEventMap";var n={hasEventHandler:function(t,n,e){var r=this[u];if(r)if(t){if(n)return-1<function(t,n,e,r){var i=t[u],f=void 0;if((i=i&&i[n])&&(f=i.length))for(var o,s=r||null;f--;)if((o=i[f]).handler===e&&o.obj===s)return f;return-1}(this,t,n,e);if(r=r[t])return 0<r.length}else for(var i in r)if(r[i].length)return!0;return!1},on:function(t,n,e,r){for(var i=this[u]||(this[u]={}),f="string"==typeof t?[t]:t,o=f.length;o--;){var s=f[o];this.hasEventHandler(s,n,e)||(i[s]||(i[s]=[])).push({handler:n,obj:e||null,settings:r})}return this},off:function(t,n,e){var r=this[u];if(r)if(t){if(r=r[t])if(n)for(var i,f=e||null,o=r.length;o--;)(i=r[o]).handler===n&&i.obj===f&&r.splice(o,1);else r.length=0}else this[u]=null;return this},emit:function(t){for(var n=arguments.length,e=Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var i=this[u];if(i){var f=void 0,o=void 0;if("string"==typeof t?o=t:t&&(o=(f=t).type),null!=o&&(i=i[o])&&i.length){f=f||{type:t,params:e,data:e[0]};for(var s,a=[],l=0,h=void 0;h=i[l++];)h.handler.call(h.obj,f),(s=h.settings)&&s.once&&a.push(h);for(l=a.length;h=a[--l];)this.off(o,h.handler,h.obj)}}return this}};function e(t){return Object.assign(t||{},n)}t.getEmitter=e});