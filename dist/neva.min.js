!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):"undefined"!=typeof exports?e(exports):(e(e={}),t.neva=e)}(this,function(t){"use strict";t.__esModule=!0,t.default=n;var h="__nevaEventMap";var e={hasEventHandler:function(t,e,n){var r=this[h];if(r)if(t){if(e)return-1<function(t,e,n,r){var i=t[h],f=void 0;if((i=i&&i[e])&&(f=i.length))for(var s,o=r||null;f--;)if((s=i[f]).handler===n&&s.obj===o)return f;return-1}(this,t,e,n);if(r=r[t])return 0<r.length}else for(var i in r)if(r[i].length)return!0;return!1},on:function(t,e,n,r){for(var i=this[h]||(this[h]={}),f="string"==typeof t?[t]:t,s=f.length;s--;){var o=f[s];this.hasEventHandler(o,e,n)||(i[o]||(i[o]=[])).push({handler:e,obj:n||null,settings:r})}return this},off:function(t,e,n){var r=this[h];if(r)if(t){if(r=r[t])if(e)for(var i,f=n||null,s=r.length;s--;)(i=r[s]).handler===e&&i.obj===f&&r.splice(s,1);else r.length=0}else this[h]=null;return this},emit:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this[h];if(i){var f=void 0,s=void 0;if("string"==typeof t?s=t:t&&(s=(f=t).type),null!=s&&(i=i[s])&&i.length){f=f||{type:t,params:n,data:n[0]};for(var o,a=[],l=0,u=void 0;u=i[l];)u.handler.call(u.obj,f),(o=u.settings)&&o.once&&a.push(l),l++;for(l=a.length;l;)i.splice(a[--l],1)}}return this}};function n(t){return Object.assign(t||{},e)}t.getEmitter=n});