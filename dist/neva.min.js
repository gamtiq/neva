!function(n,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),n.neva=t)}(this,function(n){"use strict";n.__esModule=!0,n.default=e;var s="__nevaEventMap";var t={hasEventHandler:function(n,t,e){var r=this[s];if(r)if(n){if(t)return-1<function(n,t,e,r){var i=n[s],f=void 0;if((i=i&&i[t])&&(f=i.length))for(var a,o=r||null;f--;)if((a=i[f]).handler===e&&a.obj===o)return f;return-1}(this,n,t,e);if(r=r[n])return 0<r.length}else for(var i in r)if(r[i].length)return!0;return!1},on:function(n,t,e){for(var r=this[s]||(this[s]={}),i="string"==typeof n?[n]:n,f=i.length;f--;){var a=i[f];this.hasEventHandler(a,t,e)||(r[a]||(r[a]=[])).push({handler:t,obj:e||null})}return this},off:function(n,t,e){var r=this[s];if(r)if(n){if(r=r[n])if(t)for(var i,f=e||null,a=r.length;a--;)(i=r[a]).handler===t&&i.obj===f&&r.splice(a,1);else r.length=0}else this[s]=null;return this},emit:function(n){for(var t=arguments.length,e=Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var i=this[s];if(i){var f=void 0,a=void 0;if("string"==typeof n?a=n:n&&(a=(f=n).type),null!=a&&(i=i[a])&&i.length){f=f||{type:n,params:e,data:e[0]};for(var o=0,l=void 0;l=i[o++];)l.handler.call(l.obj,f)}}return this}};function e(n){return Object.assign(n||{},t)}n.getEmitter=e});